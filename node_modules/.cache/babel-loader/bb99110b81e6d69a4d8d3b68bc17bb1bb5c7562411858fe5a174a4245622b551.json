{"ast":null,"code":"import _regeneratorRuntime from\"/Users/saravilla/Desktop/movieapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/saravilla/Desktop/movieapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/saravilla/Desktop/movieapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{BrowserRouter,Routes,Route}from'react-router-dom';import axios from'axios';import'./App.css';import MovieCard from'./components/MovieCard';import'bootstrap/dist/css/bootstrap.min.css';import{Navbar,Container,Nav,Form,FormControl,Button}from'react-bootstrap';import TopTen from'./components/TopTen';/*let url = \"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=670ab1cd0ceaf592ba7be80c8098630f\"*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var API_URL=\"https://api.themoviedb.org/3\";/*const API_SEARCH=\"https://api.themoviedb.org/3/search/movie?api_key=670ab1cd0ceaf592ba7be80c8098630f&query\"*/var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),query=_useState4[0],setQuery=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searchKey=_useState6[0],setSearchKey=_useState6[1];var fetchMovies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(searchKey){var type,_yield$axios$get,results;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:type=searchKey?\"search\":\"discover\";_context.next=3;return axios.get(\"\".concat(API_URL,\"/\").concat(type,\"/movie?api_key=670ab1cd0ceaf592ba7be80c8098630f&language=en-US&page=1&include_adult=false\"),{params:{api_key:process.env.REACT_APP_MOVIE_API_KEY,query:searchKey}});case 3:_yield$axios$get=_context.sent;results=_yield$axios$get.data.results;setMovies(results);case 6:case\"end\":return _context.stop();}},_callee);}));return function fetchMovies(_x){return _ref.apply(this,arguments);};}();useEffect(function(){fetchMovies();},[]);var renderMovies=function renderMovies(){return movies.map(function(movie){return/*#__PURE__*/_jsx(MovieCard,{movie:movie},movie.id);});};var searchMovies=function searchMovies(e){e.preventDefault();fetchMovies(searchKey);};var changeHandler=function changeHandler(e){setQuery(e.target.value);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{bg:\"black\",expand:\"lg\",variant:\"dark\",children:/*#__PURE__*/_jsx(Container,{fluid:true,children:/*#__PURE__*/_jsxs(Navbar.Collapse,{id:\"navbarScroll\",children:[/*#__PURE__*/_jsx(Nav,{className:\"me-auto my-2 my-lg-3\",style:{maxHeight:'100px'},navbarScroll:true}),/*#__PURE__*/_jsxs(Nav,{className:\"mr-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{href:\"/TopTen\",children:\"Top10\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/\",children:\"Movies\"})]}),/*#__PURE__*/_jsxs(Form,{className:\"d-flex\",onSubmit:searchMovies,children:[/*#__PURE__*/_jsx(FormControl,{type:\"search\",onChangeCapture:function onChangeCapture(e){return setSearchKey(e.target.value);},placeholder:\"Movie Search\",className:\"me-2\",\"aria-label\":\"search\",name:\"query\",value:query,onChange:changeHandler}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",type:\"submit\",children:\"Search\"})]})]})})}),/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(\"div\",{id:\"content\",children:/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsx(Route,{path:\"/TopTen\",exact:true,element:/*#__PURE__*/_jsx(TopTen,{})})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Movies\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:renderMovies()})]});};export default App;","map":{"version":3,"names":["useEffect","useState","BrowserRouter","Routes","Route","axios","MovieCard","Navbar","Container","Nav","Form","FormControl","Button","TopTen","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","API_URL","_useState","_useState2","_slicedToArray","movies","setMovies","_useState3","_useState4","query","setQuery","_useState5","_useState6","searchKey","setSearchKey","fetchMovies","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","type","_yield$axios$get","results","wrap","_callee$","_context","prev","next","get","concat","params","api_key","process","env","REACT_APP_MOVIE_API_KEY","sent","data","stop","_x","apply","arguments","renderMovies","map","movie","id","searchMovies","e","preventDefault","changeHandler","target","value","children","bg","expand","variant","fluid","Collapse","className","style","maxHeight","navbarScroll","Link","href","onSubmit","onChangeCapture","placeholder","name","onChange","path","exact","element"],"sources":["/Users/saravilla/Desktop/movieapp/src/App.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport axios from 'axios';\nimport './App.css';\nimport MovieCard from './components/MovieCard';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Navbar, Container, Nav, Form, FormControl, Button } from 'react-bootstrap';\nimport TopTen from './components/TopTen';\n/*let url = \"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=670ab1cd0ceaf592ba7be80c8098630f\"*/\n\n\nfunction App() {\n\n  const API_URL = \"https://api.themoviedb.org/3\"\n  /*const API_SEARCH=\"https://api.themoviedb.org/3/search/movie?api_key=670ab1cd0ceaf592ba7be80c8098630f&query\"*/\n  const [movies, setMovies] = useState([])\n  const [query, setQuery]=useState('')\n  const [searchKey, setSearchKey] = useState (\"\")\n  \n\n  const fetchMovies = async (searchKey) => {\n    const type = searchKey ? \"search\" : \"discover\"\n    const {data: {results}} = await axios.get(`${API_URL}/${type}/movie?api_key=670ab1cd0ceaf592ba7be80c8098630f&language=en-US&page=1&include_adult=false`, {\n      params: {\n        api_key: process.env.REACT_APP_MOVIE_API_KEY,\n        query: searchKey\n      }\n    })\n \n    setMovies(results)\n  }\n\n  useEffect (() => {\nfetchMovies()\n  }, [])\n\n  const renderMovies = () => (\n    movies.map(movie => (\n      <MovieCard \n      key={movie.id}\n      movie={movie}\n      />\n    ))\n  )\n  \nconst searchMovies = (e) => {\n  e.preventDefault()\n  fetchMovies(searchKey)\n}\n\n  const changeHandler=(e)=>{\n    setQuery(e.target.value);\n  }\n \n  return (\n    <>\n    <Navbar bg=\"black\" expand=\"lg\" variant=\"dark\">\n    <Container fluid>\n  <Navbar.Collapse id=\"navbarScroll\">\n    <Nav\n    className=\"me-auto my-2 my-lg-3\"          \n    style={{maxHeight: '100px'}}\n    navbarScroll></Nav>\n\n<Nav className=\"mr-auto\">\n          <Nav.Link href=\"/TopTen\">Top10</Nav.Link>\n          <Nav.Link href=\"/\">Movies</Nav.Link>\n        </Nav>\n\n        <Form className=\"d-flex\" onSubmit={searchMovies}>\n  <FormControl\n  type=\"search\" onChangeCapture={(e) => setSearchKey(e.target.value)}\n  placeholder=\"Movie Search\"\n  \n  className=\"me-2\"\n  aria-label=\"search\"\n  name=\"query\"\n  value={query} onChange={changeHandler}></FormControl>\n  <Button variant=\"secondary\" type=\"submit\">Search</Button>\n</Form>\n</Navbar.Collapse>\n    </Container>\n    </Navbar>\n\n        <BrowserRouter>\n        <div id=\"content\">\n          <Routes>\n            <Route path=\"/TopTen\" exact element={<TopTen/>}/>\n          </Routes>\n        </div>\n      </BrowserRouter>\n   \n\n\n\n\n    <div className=\"title\">\n      <h3>Movies</h3>\n      </div>\n    <div className=\"grid\">\n        {renderMovies()}\n      </div>  \n      </>\n  );\n}\n;\n  \n\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}